<div class="col-lg-12" style="padding-top: 20px;">
    <h1 class="h1-strong">Hola, {{identity.name}}</h1>
</div>


<div id="user-card" class="card mb-3">
    <div class="card-body">
        <div class="d-flex">
            <div class="avatar">
                <img src="{{url + 'get-image-user/'+ identity.image}}" *ngIf="identity.name" alt="avatar" class="img-fluid rounded-circle">
                <img src="assets/usuario.png" *ngIf="!identity.name" alt="avatar" class="img-fluid rounded-circle">
            </div>
            <div class="name-surname d-flex flex-column ps-3">
                <a [routerLink]="['/perfil', identity._id]" style="color: black;"> {{identity.name}} </a>
                <a href="#" style="color: #686868;">{{identity.surname}}</a>
            </div>
        </div>

        <div class="stats d-flex justify-content-between" *ngIf="stats">
            <div class="following-data border-right">
                <a href="#"> 
                    <span class="label-stats"> Siguiendo</span>
                </a>
                <span class="number-stats"> {{stats.following}} </span>
            </div>
            <div class="following-data border-right">
                <a href="#"> 
                    <span class="label-stats"> Seguidores</span>
                </a>
                <span class="number-stats"> {{stats.followed}} </span>
            </div>
            <div class="following-data">
                <a href="#"> 
                    <span class="label-stats"> Publicaciones</span>
                </a>
                <span class="number-stats"> {{stats.publications}} </span>
            </div>
        </div>
    </div>
</div>

<!-- FORMULARIO DE PUBLICACIONES -->
 <div id="new-publication" class="card mb-3">
    <div class="card-body">
        <div class="alert alert-success" *ngIf="status === 'success'">
            Publicación enviada correctamente
        </div>
        <div class="alert alert-danger" *ngIf="status === 'error'">
            Publicación no enviada correctamente
    </div>
    

        <form #newpublicationForm="ngForm" (ngSubmit)="onSubmit(newpublicationForm); sendPublication($event)" class="col-lg-12">
    
            <p>
                <label for="text">¿Que estas pensando hoy?</label>
                <textarea type="text" name="text" #text="ngModel" [(ngModel)]="publication.text" class="form-control" required>
                    <span *ngIf="text.invalid && text.touched">El texto de la publicación es requerido</span>
                </textarea>
            </p>
    
            <p class="d-flex flex-column">
                <label for="file">Sube tu foto</label>
                <input type="file" name="file" placeholder="Subir imagen" (change)="fileChangeEvent($event)"/>
            </p>
    
            <input type="submit" value="Enviar" class="btn btn-success" [disabled]="newpublicationForm.invalid"/>
        </form>
    </div>
 </div>